var scaleDownAmnt=.7,boxShadowAmnt="40px";$.Velocity.RegisterEffect("translateUp",{defaultDuration:1,calls:[[{translateY:"-100%"},1]]}),$.Velocity.RegisterEffect("translateDown",{defaultDuration:1,calls:[[{translateY:"100%"},1]]}),$.Velocity.RegisterEffect("translateNone",{defaultDuration:1,calls:[[{translateY:"0",opacity:"1",scale:"1"},1]]}),$.Velocity.RegisterEffect("scaleDown",{defaultDuration:1,calls:[[{opacity:"0",scale:"0.7"},1]]}),$.Velocity.RegisterEffect("scaleDown.moveUp",{defaultDuration:1,calls:[[{translateY:"0%",scale:scaleDownAmnt},.2],[{translateY:"-100%"},.6],[{translateY:"-100%",scale:"1"},.2]]}),$.Velocity.RegisterEffect("scaleDown.moveUp.scroll",{defaultDuration:1,calls:[[{translateY:"-100%",scale:scaleDownAmnt},.6],[{translateY:"-100%",scale:"1"},.4]]}),$.Velocity.RegisterEffect("scaleUp.moveUp",{defaultDuration:1,calls:[[{translateY:"90%",scale:scaleDownAmnt},.2],[{translateY:"0%"},.6],[{translateY:"0%",scale:"1"},.2]]}),$.Velocity.RegisterEffect("scaleUp.moveUp.scroll",{defaultDuration:1,calls:[[{translateY:"0%",scale:scaleDownAmnt},.6],[{translateY:"0%",scale:"1"},.4]]}),$.Velocity.RegisterEffect("scaleDown.moveDown",{defaultDuration:1,calls:[[{translateY:"0%",scale:scaleDownAmnt},.2],[{translateY:"100%"},.6],[{translateY:"100%",scale:"1"},.2]]}),$.Velocity.RegisterEffect("scaleDown.moveDown.scroll",{defaultDuration:1,calls:[[{},.6],[{translateY:"100%",scale:"1"},.4]]}),$.Velocity.RegisterEffect("scaleUp.moveDown",{defaultDuration:1,calls:[[{translateY:"-90%",scale:scaleDownAmnt},.2],[{translateY:"0%"},.6],[{translateY:"0%",scale:"1"},.2]]});var VeloSlider=function(){var e={veloInit:$(".velo-slides").data("velo-slider"),$veloSlide:$(".velo-slide"),veloSlideBg:".velo-slide__bg",navPrev:$(".velo-slides-nav").find("a.js-velo-slides-prev"),navNext:$(".velo-slides-nav").find("a.js-velo-slides-next"),veloBtn:$(".velo-slide__btn"),delta:0,scrollThreshold:7,currentSlide:1,animating:!1,animationDuration:2e3},l=0,t=!1;return{init:function(){this.bind()},bind:function(){e.$veloSlide.first().addClass("is-active"),"on"==e.veloInit&&(VeloSlider.initScrollJack(),$(window).on("DOMMouseScroll mousewheel",VeloSlider.scrollJacking)),e.navPrev.on("click",VeloSlider.prevSlide),e.navNext.on("click",VeloSlider.nextSlide),$(document).on("keydown",function(l){var t=39==l.which||40==l.which,i=37==l.which||38==l.which;t&&!e.navNext.hasClass("inactive")?(l.preventDefault(),VeloSlider.nextSlide()):i&&!e.navPrev.hasClass("inactive")&&(l.preventDefault(),VeloSlider.prevSlide())}),VeloSlider.checkNavigation(),VeloSlider.hoverAnimation()},hoverAnimation:function(){e.veloBtn.hover(function(){$(this).closest(e.$veloSlide).toggleClass("is-hovering")})},setAnimation:function(l,t){var i="translateNone",a="translateUp",o="translateDown";return l?(i="scaleUp.moveUp.scroll",a="scaleDown.moveUp.scroll",o="scaleDown.moveDown.scroll"):(i="next"==t?"scaleUp.moveUp":"scaleUp.moveDown",a="scaleDown.moveUp",o="scaleDown.moveDown"),[i,a,o,e.animationDuration,"ease"]},initScrollJack:function(){var l=e.$veloSlide.filter(".is-active"),t=l.prevAll(e.$veloSlide),i=l.nextAll(e.$veloSlide),a=VeloSlider.setAnimation(!1),o=a[0],n=a[1],s=a[2];console.log(a),console.log(a[4]),l.children("div").velocity(o,1,function(){l.css("opacity",1),t.css("opacity",1),i.css("opacity",1)}),t.children("div").velocity(n,0),i.children("div").velocity(s,0)},scrollJacking:function(t){return t.originalEvent.detail<0||t.originalEvent.wheelDelta>0?(l--,Math.abs(l)>=e.scrollThreshold&&VeloSlider.prevSlide()):++l>=e.scrollThreshold&&VeloSlider.nextSlide(),!1},prevSlide:function(l){void 0!==l&&l.preventDefault();var i=e.$veloSlide.filter(".is-active"),a=VeloSlider.setAnimation(o,"prev"),o=!1;i=o?i.next(e.$veloSlide):i,console.log(o),t||i.is(":first-child")||(t=!0,i.removeClass("is-active").children(e.veloSlideBg).velocity(a[2],a[3],a[4]).end().prev(e.$veloSlide).addClass("is-active").children(e.veloSlideBg).velocity(a[0],a[3],a[4],function(){t=!1}),currentSlide=e.currentSlide-1),VeloSlider.resetScroll()},nextSlide:function(l){void 0!==l&&l.preventDefault();var i=e.$veloSlide.filter(".is-active"),a=VeloSlider.setAnimation(o,"next"),o=!1;t||i.is(":last-of-type")||(t=!0,i.removeClass("is-active").children(e.veloSlideBg).velocity(a[1],a[3]).end().next(e.$veloSlide).addClass("is-active").children(e.veloSlideBg).velocity(a[0],a[3],function(){t=!1}),currentSlide=e.currentSlide+1),VeloSlider.resetScroll()},resetScroll:function(){l=0,VeloSlider.checkNavigation()},checkNavigation:function(){e.$veloSlide.filter(".is-active").is(":first-of-type")?e.navPrev.addClass("inactive"):e.navPrev.removeClass("inactive"),e.$veloSlide.filter(".is-active").is(":last-of-type")?e.navNext.addClass("inactive"):e.navNext.removeClass("inactive")}}}();VeloSlider.init();